<div x-show="activeTab === 'settings'" x-transition class="space-y-6">
  <div class="card rounded-xl p-6">
    <h2 class="text-xl font-bold text-white mb-4">Video Generation Settings</h2>
    <div class="space-y-4">
      <div>
        <label class="block text-gray-300 text-sm font-medium mb-2">Custom Video Prompt</label>
        <textarea x-model="systemPrompt" 
                  placeholder="This custom video prompt will be combined by default with the donor's message when generating videos. For example: 'Create a professional celebration video with smooth animations and bright colors...'" 
                  rows="4" 
                  class="w-full bg-black/30 border border-white/20 text-white rounded-lg px-3 py-2 placeholder-gray-400"></textarea>
        <p class="text-gray-500 text-xs mt-1">This prompt is automatically prepended and combined with donation messages by default</p>
        <div class="mt-2">
          <button @click="saveSystemPrompt()" 
                  class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm">
            <i class="fas fa-save mr-1"></i>
            Save Custom Prompt
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <div class="card rounded-xl p-6">
    <h2 class="text-xl font-bold text-white mb-4">DonationAlerts Configuration</h2>
    <div class="space-y-6">
      <div>
        <h3 class="text-lg font-semibold text-white mb-4">API Integration</h3>
        <div class="space-y-4">
          <!-- DonationAlerts Connection -->
          <div class="bg-blue-900/20 border border-blue-600/30 rounded-lg p-4">
            <div class="flex items-center mb-4">
              <i class="fas fa-link text-blue-400 mr-2"></i>
              <label class="block text-blue-300 text-lg font-medium">DonationAlerts Connection</label>
            </div>
            
            <div x-show="connectionStatus.connected" class="space-y-4">
              <div class="flex items-center space-x-3">
                <div class="w-3 h-3 bg-green-400 rounded-full animate-pulse"></div>
                <span class="text-green-300 text-lg font-medium">Connected to DonationAlerts</span>
              </div>
              <div class="flex gap-3">
                <button @click="testDonationAlertsAPI()" 
                        class="bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-lg text-sm font-medium">
                  <i class="fas fa-flask mr-2"></i>
                  Test Connection
                </button>
                <button @click="connectDonationAlerts()" 
                        class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg text-sm font-medium">
                  <i class="fas fa-sync-alt mr-2"></i>
                  Reconnect via OAuth
                </button>
                <button @click="disconnectDonationAlerts()" 
                        class="bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg text-sm font-medium">
                  <i class="fas fa-unlink mr-2"></i>
                  Disconnect
                </button>
              </div>
            </div>
            
            <div x-show="!connectionStatus.connected" class="space-y-4">
              <div class="flex items-center space-x-3">
                <div class="w-3 h-3 bg-red-400 rounded-full"></div>
                <span class="text-red-300 text-lg font-medium">Not connected to DonationAlerts</span>
              </div>
              <div class="flex gap-3">
                <button @click="connectDonationAlerts()" 
                        class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg text-sm font-medium">
                  <i class="fas fa-sign-in-alt mr-2"></i>
                  Connect via DonationAlerts (OAuth)
                </button>
                <button @click="testDonationAlertsAPI()" 
                        class="bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-lg text-sm font-medium">
                  <i class="fas fa-flask mr-2"></i>
                  Test Connection
                </button>
              </div>
              <p class="text-gray-400 text-xs">You will be redirected to DonationAlerts to authorize access.</p>
            </div>
            
          </div>
          
          <div>
            <label class="block text-gray-300 text-sm font-medium mb-2">Donation Threshold</label>
            <div class="grid grid-cols-2 gap-4">
              <div>
                <input type="number" 
                       x-model="thresholdAmount"
                       placeholder="1000"
                       min="1"
                       class="w-full bg-black/30 border border-white/20 text-white rounded-lg px-3 py-2 placeholder-gray-400">
                <p class="text-gray-400 text-xs mt-1">Minimum amount</p>
              </div>
              <div>
                <select x-model="thresholdCurrency" 
                        class="w-full bg-black/30 border border-white/20 text-white rounded-lg px-3 py-2">
                  <option value="RUB">RUB - Russian Ruble</option>
                  <option value="USD">USD - US Dollar</option>
                  <option value="EUR">EUR - Euro</option>
                  <option value="GBP">GBP - British Pound</option>
                  <option value="JPY">JPY - Japanese Yen</option>
                  <option value="CAD">CAD - Canadian Dollar</option>
                  <option value="AUD">AUD - Australian Dollar</option>
                </select>
                <p class="text-gray-400 text-xs mt-1">Currency</p>
              </div>
            </div>
            <div class="mt-2">
              <button @click="saveThreshold()" 
                      class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm">
                <i class="fas fa-save mr-1"></i>
                Save Threshold
              </button>
            </div>
          </div>
        </div>
      </div>
      
      <div>
        <h3 class="text-lg font-semibold text-white mb-4">OBS Integration</h3>
        <div class="space-y-4">
          <div>
            <label class="block text-gray-300 text-sm font-medium mb-2">OBS Widget URL</label>
            <div class="flex items-center space-x-2">
              <input type="text" 
                     :value="getRealWidgetUrl()"
                     readonly
                     class="flex-1 bg-black/30 border border-white/20 text-white rounded-lg px-3 py-2">
              <button @click="copyToClipboard(getRealWidgetUrl())"
                      class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors">
                <i class="fas fa-copy"></i>
              </button>
            </div>
            <p class="text-gray-400 text-xs mt-1">Add this URL as a Browser Source in OBS Studio</p>
          </div>
        </div>
      </div>
      
      <div>
        <h3 class="text-lg font-semibold text-white mb-4">API Configuration</h3>
        <div class="space-y-4">
          <div>
            <label class="block text-gray-300 text-sm font-medium mb-2">AIML API Status</label>
            <div class="flex items-center space-x-2">
              <div :class="aimlApiConfigured ? 'w-3 h-3 bg-green-400 rounded-full' : 'w-3 h-3 bg-red-400 rounded-full'"></div>
              <span :class="aimlApiConfigured ? 'text-green-300' : 'text-red-300'" 
                    x-text="aimlApiConfigured ? 'Configured' : 'Not Configured'"></span>
            </div>
          </div>
          <div>
            <label class="block text-gray-300 text-sm font-medium mb-2">Donation Threshold</label>
            <div class="text-gray-300">1000 RUB minimum</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
